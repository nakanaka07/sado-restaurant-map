# App Directory

このディレクトリには、佐渡島レストランマップアプリケーションのメインアプリケーションコンポーネントが含まれています。

## ファイル構成

### `App.tsx`

メインアプリケーションコンポーネント。以下の機能を提供します：

- **Google Maps API統合**: `@vis.gl/react-google-maps`を使用したマップ表示
- **レストランデータ管理**: カスタムフック`useMapPoints`を使用したデータ取得・フィルタリング
- **フィルタリング機能**: 料理タイプ、価格帯、佐渡地区による絞り込み
- **アクセシビリティ対応**: スキップリンクやARIA属性の実装
- **PWA対応**: プログレッシブウェブアプリ機能
- **セキュリティ**: APIキーのバリデーションと入力値のサニタイズ
- **Google Analytics**: アクセス解析の初期化

#### 主要な機能

- マップポイントの表示と管理
- レストラン情報のフィルタリング
- エラーハンドリング
- 初期化処理
- セキュリティ強化

### `main.tsx`

アプリケーションのエントリーポイント。以下を担当します：

- **React DOM レンダリング**: `createRoot`を使用したモダンなReactアプリの起動
- **スタイル読み込み**: CSSファイルの優先順位を考慮した読み込み
- **Strict Mode**: 開発時の追加チェック機能を有効化
- **エラーハンドリング**: ルート要素の存在確認

### `App.test.tsx`

アプリケーションコンポーネントのテストファイル。

## 依存関係

### 外部ライブラリ

- `@vis.gl/react-google-maps`: Google Maps統合
- `react`: UIライブラリ
- `react-dom`: DOM操作

### 内部モジュール

- `@/hooks`: カスタムフック（`useMapPoints`）
- `@/components`: UIコンポーネント（MapView, FilterPanel等）
- `@/utils`: ユーティリティ関数（GA初期化、セキュリティ等）
- `@/types`: TypeScript型定義
- `@/config`: 設定値

## 環境変数

以下の環境変数が必要です：

- `VITE_GOOGLE_MAPS_API_KEY`: Google Maps APIキー

## 使用方法

このディレクトリのコンポーネントは、プロジェクトのルートから以下のように使用されます：

```typescript
import App from './src/app/App';
```text

アプリケーションは`main.tsx`によって自動的に初期化され、DOM要素`#root`にマウントされます。

## アーキテクチャ

- **コンポーネント分離**: UIコンポーネントは`components`ディレクトリに分離
- **カスタムフック**: データ管理ロジックは`hooks`に分離
- **型安全性**: TypeScriptによる厳密な型チェック
- **セキュリティ**: 入力値のサニタイズとAPIキーのバリデーション
- **アクセシビリティ**: WCAG準拠のアクセシブルな実装

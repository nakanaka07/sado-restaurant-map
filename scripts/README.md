# Scripts Directory

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€é–‹ç™ºãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»åˆ†æãƒ»æœ€é©åŒ–ã«é–¢ã™ã‚‹å„ç¨®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ“‹ ã‚¹ã‚¯ãƒªãƒ—ãƒˆä¸€è¦§

### ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»ç’°å¢ƒæ§‹ç¯‰

#### `setup-dev.ps1`

**ç›®çš„**: é–‹ç™ºç’°å¢ƒã®åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
**å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¯ãƒ­ãƒ¼ãƒ³å¾Œã®åˆå›ã®ã¿
**å‰ææ¡ä»¶**: Node.js 20.19+, pnpm, Git
**å®Ÿè¡Œæ–¹æ³•**:

```powershell
.\scripts\setup-dev.ps1
```

**æ©Ÿèƒ½**:

- å‰ææ¡ä»¶ãƒã‚§ãƒƒã‚¯ï¼ˆNode.js/pnpm/Gitï¼‰
- ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- .env.local ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ
- TypeScript/PWAè¨­å®šç¢ºèª
- é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•ã‚ªãƒ—ã‚·ãƒ§ãƒ³

**ã‚ªãƒ—ã‚·ãƒ§ãƒ³**:

- `-Clean`: node_modulesç­‰ã‚’ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—å¾Œã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- `-SkipInstall`: ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’ã‚¹ã‚­ãƒƒãƒ—
- `-Verbose`: è©³ç´°ãƒ­ã‚°å‡ºåŠ›

---

#### `deploy-production.ps1`

**ç›®çš„**: GitHub Pagesã¸ã®æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤
**å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ãƒªãƒªãƒ¼ã‚¹æ™‚ï¼ˆmainãƒ–ãƒ©ãƒ³ãƒï¼‰
**å‰ææ¡ä»¶**: ãƒ“ãƒ«ãƒ‰æˆåŠŸã€å…¨ãƒ†ã‚¹ãƒˆãƒ‘ã‚¹ã€gh-pagesãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
**å®Ÿè¡Œæ–¹æ³•**:

```powershell
.\scripts\deploy-production.ps1
```

**æ©Ÿèƒ½**:

- GitçŠ¶æ…‹ãƒ»ãƒ–ãƒ©ãƒ³ãƒç¢ºèª
- ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆNODE_ENV=productionï¼‰
- ãƒ“ãƒ«ãƒ‰å‰ãƒã‚§ãƒƒã‚¯ï¼ˆTypeScript/ESLint/Testsï¼‰
- æœ¬ç•ªãƒ“ãƒ«ãƒ‰å®Ÿè¡Œ
- PWAè¨­å®šæ¤œè¨¼
- GitHub Pagesãƒ‡ãƒ—ãƒ­ã‚¤

**ã‚ªãƒ—ã‚·ãƒ§ãƒ³**:

- `-SkipBuild`: ãƒ“ãƒ«ãƒ‰ã‚’ã‚¹ã‚­ãƒƒãƒ—ï¼ˆæ—¢å­˜distã‚’ä½¿ç”¨ï¼‰
- `-DryRun`: ãƒ‡ãƒ—ãƒ­ã‚¤ã‚³ãƒãƒ³ãƒ‰ã‚’è¡¨ç¤ºã®ã¿ï¼ˆå®Ÿè¡Œã—ãªã„ï¼‰
- `-Verbose`: è©³ç´°ãƒ­ã‚°å‡ºåŠ›

---

### ğŸ§ª ãƒ†ã‚¹ãƒˆãƒ»å“è³ªä¿è¨¼

#### `regression-test.ps1`

**ç›®çš„**: ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
**å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ãƒªãƒªãƒ¼ã‚¹å‰ã€å¤§è¦æ¨¡ãƒªãƒ•ã‚¡ã‚¯ã‚¿å¾Œ
**å®Ÿè¡Œæ–¹æ³•**:

```powershell
.\scripts\regression-test.ps1
```

**æ©Ÿèƒ½**:

- å…¨ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆå®Ÿè¡Œ
- æ—¢å­˜æ©Ÿèƒ½ã®ç ´å£Šæ¤œå‡º
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¯”è¼ƒ

---

#### `run-security-tests.ps1`

**ç›®çš„**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆãƒ»è„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³
**å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°**: é€±æ¬¡ã€ä¾å­˜é–¢ä¿‚æ›´æ–°å¾Œ
**å®Ÿè¡Œæ–¹æ³•**:

```powershell
.\scripts\run-security-tests.ps1
```

**æ©Ÿèƒ½**:

- npm auditå®Ÿè¡Œ
- æ—¢çŸ¥ã®è„†å¼±æ€§æ¤œå‡º
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ

---

#### `health-check.ps1`

**ç›®çš„**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã®ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
**å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°**: å®šæœŸï¼ˆæ—¥æ¬¡/é€±æ¬¡ï¼‰ã€ãƒ‡ãƒ—ãƒ­ã‚¤å‰
**å®Ÿè¡Œæ–¹æ³•**:

```powershell
.\scripts\health-check.ps1
```

**æ©Ÿèƒ½**:

- ãƒ“ãƒ«ãƒ‰çŠ¶æ…‹ç¢ºèª
- ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ãƒã‚§ãƒƒã‚¯
- ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºæ¤œè¨¼
- ãƒªãƒ³ã‚¯åˆ‡ã‚Œæ¤œå‡º

---

### ğŸ“Š åˆ†æãƒ»ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°

#### `analyze-ab-test-results.js`

**ç›®çš„**: A/Bãƒ†ã‚¹ãƒˆçµæœã®çµ±è¨ˆåˆ†æ
**å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆåˆ¤æ–­æ™‚ï¼ˆ20%â†’50%â†’100%ï¼‰
**å®Ÿè¡Œæ–¹æ³•**:

```bash
node scripts/analyze-ab-test-results.js
```

**æ©Ÿèƒ½**:

- çµ±è¨ˆçš„æœ‰æ„æ€§æ¤œè¨¼ï¼ˆpå€¤è¨ˆç®—ï¼‰
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ç‡ç®—å‡º
- ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆæ¨å¥¨åˆ¤å®š
- è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ

**å‡ºåŠ›ä¾‹**:

```
ğŸ“Š A/Bãƒ†ã‚¹ãƒˆçµæœåˆ†æãƒ¬ãƒãƒ¼ãƒˆ
- på€¤: 0.0032 (çµ±è¨ˆçš„æœ‰æ„)
- ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºæ”¹å–„: 19.9%
- CTRæ”¹å–„: +28.7%
æ¨å¥¨: proceed_to_50 (é«˜ä¿¡é ¼åº¦)
```

---

#### `check-contrast.js`

**ç›®çš„**: WCAG AAã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”æ¤œè¨¼
**å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°**: è‰²å¤‰æ›´æ™‚ã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ¬ãƒ“ãƒ¥ãƒ¼æ™‚
**å®Ÿè¡Œæ–¹æ³•**:

```bash
node scripts/check-contrast.js
```

**æ©Ÿèƒ½**:

- ã‚«ãƒ†ã‚´ãƒªåˆ¥è‰²ã®ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”è¨ˆç®—
- WCAG 2.2 AAåŸºæº–ï¼ˆ4.5:1ï¼‰ãƒã‚§ãƒƒã‚¯
- åˆå¦åˆ¤å®šãƒ¬ãƒãƒ¼ãƒˆ

**å‡ºåŠ›ä¾‹**:

```
japanese:  #D32F2F -> 5.21:1 âœ… PASS
noodles:   #BF360C -> 6.20:1 âœ… PASS
```

---

### ğŸ§¹ test/ ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

#### `test/distributed-processing.py`

**ç›®çš„**: åˆ†æ•£å‡¦ç†ãƒ†ã‚¹ãƒˆï¼ˆPythonï¼‰
**å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°**: data-platformçµ±åˆãƒ†ã‚¹ãƒˆæ™‚
**å®Ÿè¡Œæ–¹æ³•**:

```bash
python scripts/test/distributed-processing.py
```

---

#### `test/system-test.py`

**ç›®çš„**: ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆPythonï¼‰
**å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°**: data-platformå¤‰æ›´å¾Œ
**å®Ÿè¡Œæ–¹æ³•**:

```bash
python scripts/test/system-test.py
```

---

## ğŸ”„ å®Ÿè¡Œé »åº¦ã‚¬ã‚¤ãƒ‰

| ã‚¹ã‚¯ãƒªãƒ—ãƒˆ                 | é »åº¦               | ã‚¿ã‚¤ãƒŸãƒ³ã‚°         |
| -------------------------- | ------------------ | ------------------ |
| setup-dev.ps1              | 1å›                | åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ™‚ |
| deploy-production.ps1      | ãƒªãƒªãƒ¼ã‚¹æ¯         | mainãƒãƒ¼ã‚¸å¾Œ       |
| health-check.ps1           | æ—¥æ¬¡/é€±æ¬¡          | å®šæœŸå®Ÿè¡Œ           |
| run-security-tests.ps1     | é€±æ¬¡               | ä¾å­˜æ›´æ–°å¾Œ         |
| regression-test.ps1        | ãƒªãƒªãƒ¼ã‚¹å‰         | å¤§è¦æ¨¡å¤‰æ›´å¾Œ       |
| analyze-ab-test-results.js | ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆåˆ¤æ–­æ™‚ | ãƒ‡ãƒ¼ã‚¿åé›†å®Œäº†å¾Œ   |
| check-contrast.js          | è‰²å¤‰æ›´æ™‚           | ãƒ‡ã‚¶ã‚¤ãƒ³æ›´æ–°å¾Œ     |

---

## ğŸ“¦ ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

`archive/` ã«ã¯ã€ä¸€åº¦ãã‚Šã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚„ä½é »åº¦ä½¿ç”¨ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

### ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–æ¸ˆã¿ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

- **ã‚¢ã‚¤ã‚³ãƒ³æœ€é©åŒ–é–¢é€£** (5 ã‚¹ã‚¯ãƒªãƒ—ãƒˆ)
  - `download-phosphor-icons.ps1`
  - `download-convert-phosphor-icons.ps1`
  - `optimize-large-icons.ps1`
  - `simple-icon-optimize.ps1`
  - `resize-pwa-icons.ps1`

**è©³ç´°**: [`scripts/archive/README.md`](./archive/README.md) ã‚’å‚ç…§

**ä½¿ç”¨æ–¹æ³•**:

```powershell
# ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‹ã‚‰ç›´æ¥å®Ÿè¡Œ
.\scripts\archive\<script-name>.ps1
```

---

## ğŸ“ ã‚¹ã‚¯ãƒªãƒ—ãƒˆè¿½åŠ ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

æ–°è¦ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ ã™ã‚‹éš›ã¯ã€ä»¥ä¸‹ã‚’å«ã‚ã¦ãã ã•ã„ï¼š

1. **ãƒ•ã‚¡ã‚¤ãƒ«å…ˆé ­ã‚³ãƒ¡ãƒ³ãƒˆ**

   ```powershell
   # ==========================================
   # ã‚¹ã‚¯ãƒªãƒ—ãƒˆåãƒ»ç›®çš„
   # ==========================================
   ```

2. **ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å®šç¾©**

   ```powershell
   param(
     [switch]$DryRun,
     [switch]$Verbose
   )
   ```

3. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**

   ```powershell
   $ErrorActionPreference = "Stop"
   try { ... } catch { ... }
   ```

4. **ã“ã®README.mdã¸ã®è¿½è¨˜**

---

## ğŸ†˜ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### PowerShellå®Ÿè¡Œãƒãƒªã‚·ãƒ¼ã‚¨ãƒ©ãƒ¼

```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### pnpmãŒè¦‹ã¤ã‹ã‚‰ãªã„

```powershell
npm install -g pnpm
```

### ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼

```powershell
pnpm clean
pnpm install
pnpm build
```

---

Last Updated: 2025-10-02

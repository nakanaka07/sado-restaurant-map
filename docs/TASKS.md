# TASKS (Active / Backlog / Done)

ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯è»½é‡ãªã‚¿ã‚¹ã‚¯å¯è¦–åŒ–ãƒ¬ã‚¤ãƒ¤ãƒ¼ã€‚Issue é‹ç”¨ã¨ Chat è£œåŠ©ã®é–“ã‚’åŸ‹ã‚ã€é€±æ¬¡ã§åŒæœŸã™ã‚‹ã€‚**å˜ä¸€æƒ…å ±æºã¯æœ€çµ‚çš„ã« GitHub Issues** ã§ã‚ã‚Šã€æœ¬ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã€‚å¤§ãããªã‚Šéãã‚‹å ´åˆã¯ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã¸ç§»å‹•ã€‚

## 0. é‹ç”¨ãƒãƒªã‚·ãƒ¼

- ç²’åº¦: 1 PR (æœ€å¤§ã§ã‚‚ ~1 æ—¥ä½œæ¥­) ã§å®Œäº†å¯èƒ½ãªå˜ä½ã€‚å·¨å¤§åŒ–ã—ãŸã‚‰åˆ†å‰²ã€‚
- ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«: Ideation â†’ (IssueåŒ–) Backlog â†’ Active â†’ In Review â†’ Done â†’ (Optional) Retrospect
- åæ˜ ã‚¿ã‚¤ãƒŸãƒ³ã‚°: PR ãƒãƒ¼ã‚¸ç›´å¾Œ or é€±æ¬¡ãƒ¬ãƒ“ãƒ¥ãƒ¼æ™‚ã«åŒæœŸã€‚Chat manage_todo_list å¤‰æ›´æ™‚ã«å·®åˆ†ã‚’ã§ãã‚‹ã ã‘åæ˜ ã€‚
- å„ªå…ˆåº¦: Glossary ã® P0-P3ã€‚`[P2]-feat` ãªã©ã®æ¥é ­è¾æ¨å¥¨ (è§’æ‹¬å¼§ã¯èª¤æ¤œçŸ¥å›é¿ã®ãŸã‚åŒºåˆ‡ã‚Šå¤‰æ›å¯)ã€‚
- ã‚½ãƒ¼ã‚¹: Active ã«æ˜‡æ ¼ã—ãŸã‚‰ GitHub Issue ã‚’å¿…ãšä½œæˆ (ã¾ãŸã¯æ—¢å­˜ Issue ç•ªå·è¨˜è¼‰)ã€‚

## 1. ãƒ©ãƒ™ãƒ«æŒ‡é‡ (Issue)

| Prefix   | ã‚«ãƒ†ã‚´ãƒª         | ä¾‹                     | è¿½åŠ æ¡ä»¶       |
| -------- | ---------------- | ---------------------- | -------------- |
| feat     | æ©Ÿèƒ½             | æ–° Marker åˆ‡æ›¿ UI      | AC å¿…é ˆ        |
| fix      | ä¸å…·åˆ           | PWA offline å†ç™»éŒ²å¤±æ•— | å†ç¾æ‰‹é †       |
| perf     | æ€§èƒ½             | main chunk åœ§ç¸®        | æŒ‡æ¨™å·®åˆ†å¯¾è±¡   |
| refactor | æ§‹é€              | Hook åˆ†é›¢              | æŒ™å‹•ä¸å¤‰ãƒ†ã‚¹ãƒˆ |
| chore    | ä»˜å¸¯             | ä¾å­˜æ›´æ–°               | å½±éŸ¿ç¯„å›²è¨˜è¿°   |
| docs     | æ–‡æ›¸             | README è¿½åŠ             | ãƒªãƒ³ã‚¯æ¤œè¨¼     |
| test     | ãƒ†ã‚¹ãƒˆ           | map hook è¿½åŠ ãƒ†ã‚¹ãƒˆ    | ã‚«ãƒãƒ¬ãƒƒã‚¸å‘ä¸Š |
| a11y     | ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ | ãƒ•ã‚©ãƒ¼ã‚«ã‚¹é †æ”¹å–„       | axe é‡å¤§é•å 0 |
| security | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£     | dependabot è¨­å®š        | å½±éŸ¿è©•ä¾¡       |

## 2. ãƒ†ãƒ³ãƒ—ãƒ¬ (Issue Body)

```
<ã‚«ãƒ†ã‚´ãƒª:feat/...> <çŸ­ã„è¦ç´„>
èƒŒæ™¯:
ç›®çš„:
AC:
å„ªå…ˆåº¦: P?
è£œè¶³:
```

## 3. Active (ä½œæ¥­ä¸­)

ãªã— (Phase 6å®Œäº†ã€-48.88%ç´¯ç©å‰Šæ¸›é”æˆã€æ–°æ©Ÿèƒ½é–‹ç™ºã¸ã‚·ãƒ•ãƒˆæ¨å¥¨)

## 4. Backlog (å„ªå…ˆåº¦ä»˜ãå€™è£œ)

### Phase 8: JavaScript æœ€é©åŒ– (è¨ˆç”»æ®µéš)

- (P0 perf) **manualChunksé–¢æ•°å®Ÿè£…** [Issue #TBD] â€“ markers/data-processingåˆ†é›¢ã€TBT -3000msç›®æ¨™ï¼ˆPhase 8 Task 1.1ï¼‰
- (P1 feat) **LoadingSpinner/ErrorBoundaryä½œæˆ** [Issue #TBD] â€“ lazy loading UXæ”¹å–„ã€å†åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆPhase 8 Task 1.2.1-1.2.2ï¼‰
- (P1 perf) **Dashboardé…å»¶åŒ–** [Issue #TBD] â€“ React.lazy + Suspenseã€åˆæœŸãƒ­ãƒ¼ãƒ‰é«˜é€ŸåŒ–ï¼ˆPhase 8 Task 1.2.4ï¼‰
- (P2 perf) **Unused JavaScriptå‰Šæ¸›** [Issue #TBD] â€“ 345-359 KiBå‰Šæ¸›ã€Tree-shakingå¼·åŒ–ï¼ˆPhase 8 Task 2ï¼‰

### ãã®ä»–æœ€é©åŒ–

- (P2 perf) Dead Code Elimination [Issue #TBD] â€“ Bundle analyzerå®Ÿè¡Œã€æœªä½¿ç”¨ã‚³ãƒ¼ãƒ‰å‰Šé™¤ã€-20-40 KBå‰Šæ¸›ç›®æ¨™ï¼ˆä»»æ„ï¼‰
- (P2 refactor) UnifiedMarker Phase 5: Legacyå®Œå…¨å‰Šé™¤ [Issue #TBD] â€“ A/Bãƒ†ã‚¹ãƒˆå®Œäº†å¾Œã€legacy/å‰Šé™¤ã€-30-40 KBå‰Šæ¸›ç›®æ¨™
- (P1 test) UnifiedMarker E2Eãƒ†ã‚¹ãƒˆè¿½åŠ  (Playwright) [Issue #TBD] â€“ ãƒãƒ¼ã‚«ãƒ¼æç”»ãƒ»ã‚¯ãƒªãƒƒã‚¯ãƒ»é¸æŠçŠ¶æ…‹æ¤œè¨¼
- (P2 feat) Path-specific Copilot instructions è¿½åŠ  (`.github/instructions/frontend.instructions.md`) â€“ AI æ¤œç´¢ã‚³ã‚¹ãƒˆä½æ¸›
- (P2 chore) Pre-commit (husky + lint-staged) å°å…¥ â€“ å¤±æ•—æ—©æœŸåŒ–
- (P3 perf) Lighthouse ã‚¹ã‚³ã‚¢å±¥æ­´ metrics è¿½åŠ  â€“ ãƒˆãƒ¬ãƒ³ãƒ‰å¯è¦–åŒ–
- (P3 a11y) ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚¿ãƒ–é † smoke ãƒ†ã‚¹ãƒˆ (Playwright æº–å‚™ Issue) â€“ å®Ÿãƒ–ãƒ©ã‚¦ã‚¶æ¤œè¨¼
- (P3 refactor) services å±¤ã® I/O åˆ†é›¢ (API fetch ã¨æ•´å½¢ã®é–¢æ•°åˆ†å‰²) â€“ ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§
- (P3 docs) PWA offline fallback è¨­è¨ˆãƒ‰ãƒ©ãƒ•ãƒˆ â€“ UX æ”¹å–„æº–å‚™
- (P3 test) Map é›†ç´„ãƒ­ã‚¸ãƒƒã‚¯ edge ã‚±ãƒ¼ã‚¹ãƒ¦ãƒ‹ãƒƒãƒˆå¼·åŒ– â€“ å®‰å®šæ€§

## 5. In Review

ãªã—

## 6. Done (æœ€è¿‘ 5 ä»¶ã®ã¿ä¿æŒ)

1. **(P1 perf) Phase 6: PNG Auto-Optimization (vite-plugin-image-optimizer)** âœ… (2025-10-05)
   - æ®‹ã‚Š17 PNGã‚’è‡ªå‹•æœ€é©åŒ–: å¹³å‡51%å‰Šæ¸›
   - ç·å‰Šæ¸›é‡: -594.73 KB (-25.17%)
   - Baselineæ¯”ç´¯ç©: -48.88% (ç›®æ¨™-14%ã‚’å¤§å¹…è¶…é)
   - vite.config.ts: ViteImageOptimizerè¨­å®šè¿½åŠ 
   - Quality Gates: 416 tests passing, 0 errors
   - vite-plugin-image-optimizerå°å…¥å®Œäº†
2. **(P1 perf) Phase 5: Image Optimization (ICOOON-MONO SVG)** âœ… (2025-10-04)
   - 6ã‚¢ã‚¤ã‚³ãƒ³PNGâ†’SVGç½®æ›: cafe/ramen/bar/fastfood/japanese/steak (-773 KB)
   - ç·å‰Šæ¸›é‡: -788.20 KB (-25.01%)
   - Baselineæ¯”ç´¯ç©: -31.69%
   - getCuisineIconUrl: SVGå„ªå…ˆãƒ­ã‚¸ãƒƒã‚¯è¿½åŠ 
   - ãƒ†ã‚¹ãƒˆç’°å¢ƒ: ç”»åƒãƒ¢ãƒƒã‚¯è¨­å®šè¿½åŠ  (fileMock.ts)
3. **(P1 perf) Phase 4.5: Selective Optimization** âœ… (2025-01-XX)
   - é¸æŠçš„å‹•çš„Importãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯: CustomMapControls, FilterPanel ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³åŒ–
   - Barrel Exportç¢ºèª: hooks/utils/services/components å…¨ã¦æœ€é©åŒ–æ¸ˆã¿
   - ãƒãƒ£ãƒ³ã‚¯æ•°å‰Šæ¸›: 59 â†’ 55 files (-4 files)
   - ç·ãƒãƒ³ãƒ‰ãƒ«: -3.59 KB (-0.11%) å‰Šæ¸›é”æˆ
   - ç´¯ç©å‰Šæ¸›: -8.91% (Phase 4: -8.80% â†’ Phase 4.5: -8.91%)
   - Quality Gateså…¨é€šé (394 tests, 0 errors)
4. **(P0 refactor) UnifiedMarker Phase 4: Bundle Optimization** âœ… (2025-01-XX)
   - Tree-shakingæœ€é©åŒ–: 3 barrel filesæœ€é©åŒ– (sideEffectsè¨­å®š)
   - å‹•çš„Importå®Ÿè£…: APIProvider/IntegratedMapView/CustomMapControls/FilterPanel
   - App chunk: -67.07% (-80.34 KB) å‰Šæ¸›é”æˆ
   - ç·ãƒãƒ³ãƒ‰ãƒ«: +0.57% (+17.75 KB) â€»ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰
   - ç´¯ç©å‰Šæ¸›: -8.80% (Phase 3: -9.31% â†’ Phase 4: -8.80%)
5. **(P0 refactor) UnifiedMarker Phase 3: Legacy Migration** âœ… (2025-01-XX)
   - 10ãƒ•ã‚¡ã‚¤ãƒ«ã‚’legacy/ã¸ç§»è¡Œ + deprecation warnings
   - ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º: -322.21 KB (-9.31%)
   - App chunk: -14.07 KB (-10.51%)
   - 5ãƒ•ã‚¡ã‚¤ãƒ«å‰Šæ¸› (58â†’53 files)

## 7. Retrospect ãƒ¡ãƒ¢ (ä»»æ„)

- åå¾©çš„ã« friction é«˜ã„é ˜åŸŸ: pre-commit æ¬ å¦‚ â†’ ç„¡é§„ CI å¤±æ•—
- è¿‘ã€…ã® KPI: main bundle å®‰å®š <250KB, Lighthouse perf >70 ç¶­æŒ

## 8. åŒæœŸæ‰‹é † (AI/äººé–“)

1. æ–°ã‚¢ã‚¤ãƒ‡ã‚¢ â†’ Backlog è¿½è¨˜ (+ Issue èµ·ç¥¨)
2. ç€æ‰‹æ±ºå®š â†’ Issue ã‚’ Active ã«ç§»å‹• (ãƒ©ãƒ™ãƒ«/å„ªå…ˆåº¦èª¿æ•´)
3. PR ä½œæˆ â†’ Active ã‹ã‚‰ In Review ã¸
4. ãƒãƒ¼ã‚¸ â†’ Done ã¸ (ä¸Šé™ 5 è¶…éã§æœ€å¤å‰Šé™¤)
5. é€±æ¬¡: Backlog å„ªå…ˆåº¦è¦‹ç›´ã— / Glossary æ›´æ–°è¦å¦æ¤œè¨

## 9. Chat é€£æº

- manage_todo_list ã¯ ç¾åœ¨ä½œæ¥­ä¸­ã®ã¿ ã‚’åæ˜ ã€‚
- è¤‡æ•°ã‚¿ã‚¹ã‚¯ä¸¦åˆ—ç¦æ­¢ã€‚è¡Œãè©°ã¾ã‚Š â†’ Blocker ã‚³ãƒ¡ãƒ³ãƒˆåŒ– â†’ Backlog æˆ»ã—ã€‚

Last Updated: 2025-10-05 (Phase 6å®Œäº†ã€-48.88%ç´¯ç©å‰Šæ¸›é”æˆã€-14%ç›®æ¨™ã®3.5å€é”æˆ ğŸ”¥)

# プロジェクト整理・清掃計画書

> 🎯 **目的**: 佐渡飲食店マッププロジェクトの方向性から外れた過剰なものを排除し、クリーンな構造で開発を進める
> **対象**: React 19 + TypeScript 5.7 + Vite 7 + PWA プロジェクト
> **期間**: 6 週間（段階的実施）
> **作成日**: 2025 年 9 月 8 日

## 📋 プロジェクト現状分析

### 🎯 核となる機能（保持）

- 🍽️ Google Maps Advanced Markers による飲食店マップ
- 🏪 店舗詳細情報・フィルタリング機能
- 📱 レスポンシブ・モバイルファースト設計
- ⚡ PWA 対応（オフライン機能）
- 🔍 検索・フィルタリング機能

### 🚨 整理対象エリア

- 📁 過剰なドキュメント構造
- 🔧 使用されていない設定・ツール
- 📦 不要な依存関係・パッケージ
- 🗂️ 複雑すぎるディレクトリ階層
- 📄 重複・古い情報のファイル

## 🗓️ 実施計画（6 週間）

### 📅 Phase 1: プロジェクト全体構造整理（週 1-2）

#### Week 1: ルートディレクトリ分析・整理

**#P2 プロンプト適用対象**: プロジェクト全体

**実行タスク**:

```bash
# 1. ルートディレクトリファイル分析
- package.json: 不要依存関係の特定
- tsconfig.*.json: 重複設定の統合
- vite.config.ts: 未使用プラグイン・設定の削除
- README.md: 簡潔化・重要情報の集約
- 各種設定ファイル: 実際に使用されているかチェック

# 2. 不要ファイルの特定・削除
- .env.example: 使用されていない場合は削除
- 重複する設定ファイル
- 古いバージョンの設定
- コメントアウトされた設定
```

**期待される成果**:

- ルートディレクトリが 10 ファイル以下に整理
- 依存関係が核となる機能のみに限定
- 設定ファイルの重複・複雑さを解消

#### Week 2: プロジェクト基盤設定の統一

**#P2 プロンプト適用**: 開発環境・品質管理

**実行タスク**:

```bash
# 1. 開発ツール設定統一
- ESLint設定: 必要最小限のルールに集約
- Prettier設定: プロジェクト全体で統一
- GitHub Actions: 必要最小限のワークフローのみ

# 2. 品質管理プロセス整理
- テスト設定: Vitest設定の最適化
- カバレッジ設定: 現実的な目標値設定
- Git設定: .gitignoreの最適化
```

**期待される成果**:

- 開発環境設定の一元化・簡素化
- 一貫したコード品質基準の確立
- 無駄な自動化プロセスの削除

### 📅 Phase 2: ディレクトリ別詳細整理（週 3-4）

#### Week 3: ソースコード構造整理（src/）

**#D2 プロンプト適用対象**: `src/` ディレクトリ

**実行タスク**:

```bash
# 1. ディレクトリ構造分析
src/
├── components/     # 核となるUIコンポーネント
├── hooks/         # 必要なカスタムフック
├── services/      # 外部API連携（Google Maps等）
├── types/         # TypeScript型定義
├── utils/         # 実際に使用されるユーティリティ
├── config/        # アプリケーション設定
└── styles/        # CSSファイル

# 2. 整理対象
- 未使用コンポーネント・フック削除
- 重複ロジックの統合
- 命名規則の統一
- インポート/エクスポートの最適化
```

**期待される成果**:

- src/直下のディレクトリが 7 個以下に集約
- 各ディレクトリの責任が明確化
- 循環依存・未使用コードの完全削除

#### Week 4: ドキュメント構造整理（docs/）

**#D2 プロンプト適用対象**: `docs/` ディレクトリ

**実行タスク**:

```bash
# 1. ドキュメント必要性評価
docs/
├── README.md           # プロジェクト概要（簡潔版）
├── development/        # 実際に使用される開発ガイド
│   └── ai-assistant/   # AIプロンプト（実用）
└── architecture/       # 必要最小限の設計ドキュメント

# 2. 削除対象
- 更新されていない古いドキュメント
- 重複内容のファイル
- 理論的すぎて実用性がないドキュメント
- 過剰に詳細な分析・レポート
```

**期待される成果**:

- docs/構造が 3-4 ディレクトリに簡素化
- 実際に参照・更新されるドキュメントのみ保持
- メンテナンス負荷の大幅削減

### 📅 Phase 3: 詳細最適化・仕上げ（週 5-6）

#### Week 5: 設定・ツール最終整理

**#D2 プロンプト適用対象**: `config/`, `tools/` ディレクトリ

**実行タスク**:

```bash
# 1. config/ 整理
- 実際に使用される設定のみ保持
- 開発・本番環境設定の明確化
- 複雑な設定の簡素化

# 2. tools/ 整理
- 実際に使用される開発ツールのみ保持
- 自動化スクリプトの最適化
- 不要な分析・レポートツール削除
```

#### Week 6: ファイル単位最終調整・検証

**#2 プロンプト適用**: 個別ファイル

**実行タスク**:

```bash
# 1. 重要ファイルの最終清掃
- 主要コンポーネントファイル
- 設定ファイル
- エントリーポイント

# 2. 全体検証
- ビルド・テスト実行確認
- 機能動作確認
- パフォーマンス確認
```

## 📊 実行基準・判定ルール

### ✅ 保持基準

- **機能的価値**: 核となる機能に直接貢献
- **実用性**: 実際に使用・参照・更新される
- **メンテナンス性**: 維持コストが低い
- **将来性**: 今後も継続的に価値を提供

### ❌ 削除基準

- **未使用**: 3 ヶ月以上更新・参照されていない
- **重複**: 同一・類似機能が他に存在
- **過剰**: プロジェクト規模に対して複雑すぎる
- **理論的**: 実装に結びつかない抽象的内容

### 📏 定量的目標

| 対象              | 現状（推定） | 目標             | 削減率 |
| ----------------- | ------------ | ---------------- | ------ |
| ルートファイル    | 15-20 個     | 10 個以下        | 40-50% |
| docs/ディレクトリ | 8-10 個      | 4 個以下         | 50-60% |
| src/ディレクトリ  | 10-12 個     | 7 個以下         | 30-40% |
| 設定ファイル      | 8-10 個      | 5 個以下         | 40-50% |
| 依存パッケージ    | 確認要       | 核となる機能のみ | TBD    |

## 🎯 各段階での具体的プロンプト

### Phase 1 実行プロンプト

```text
#P2 このプロジェクトを整理・清掃してください：

【重点分析エリア】
- ルートディレクトリの全ファイル（package.json, tsconfig, vite.config等）
- 使用されていない設定・依存関係の特定
- 重複する機能・設定の統合可能性
- プロジェクト規模に対する過剰な複雑さの特定

【佐渡飲食店マップ核機能】
- Google Maps Advanced Markers統合
- 飲食店データ管理・表示
- 検索・フィルタリング機能
- PWA・モバイル対応
- TypeScript型安全性

【整理基準】
- 3ヶ月以上更新されていないファイル → 削除候補
- 同一機能の重複 → 統合
- 使用されていない依存関係 → 削除
- 過剰に複雑な設定 → 簡素化
```

### Phase 2 実行プロンプト

```text
#D2 このディレクトリを整理・清掃してください：

【対象ディレクトリ】: [src/ | docs/ | config/ | tools/]

【重点チェック項目】
- ファイル・フォルダの命名規則統一
- 未使用インポート・エクスポートの削除
- デッドコード・未参照ファイルの特定
- 機能重複・責任不明確な分割の改善

【佐渡飲食店マップ核機能との関連性】
- 核機能に直接貢献するか？
- 実際に使用・参照されているか？
- メンテナンスコストは適切か？
- 将来的に継続価値があるか？
```

### Phase 3 実行プロンプト

```text
#2 このコードを整理・清掃してください：

【最終調整観点】
- 未使用要素の完全削除
- コード品質・可読性の最終確認
- 命名規則・フォーマットの統一
- パフォーマンスへの影響確認

【検証項目】
- ビルド・テストが正常に動作するか
- 核機能が正しく動作するか
- バンドルサイズに問題がないか
- 型エラーが残っていないか
```

## 📈 成果測定・検証

### 📊 定量指標

- **ファイル数削減**: 各フェーズでの削減数記録
- **バンドルサイズ**: ビルド後のサイズ変化
- **依存関係数**: package.json 内のパッケージ数
- **ビルド時間**: 整理前後での比較
- **型エラー数**: TypeScript コンパイルエラー数

### 🎯 定性指標

- **開発者体験**: 新規開発・修正時の効率性
- **理解容易性**: 新しい開発者のオンボーディング時間
- **メンテナンス性**: バグ修正・機能追加の容易さ
- **拡張性**: 新機能追加時の影響範囲

### ✅ 各フェーズ完了チェックリスト

#### Phase 1 完了基準

- [ ] ルートディレクトリファイル数が 10 個以下
- [ ] 不要な依存関係が除去済み
- [ ] ビルド・テストが正常動作
- [ ] 設定ファイルの重複が解消

#### Phase 2 完了基準

- [ ] src/ディレクトリ構造が明確化
- [ ] docs/ディレクトリが簡素化
- [ ] 未使用ファイル・コードが除去済み
- [ ] 機能動作が正常確認済み

#### Phase 3 完了基準

- [ ] 全体のコード品質が向上
- [ ] パフォーマンスが維持・改善
- [ ] ドキュメントが最新状態
- [ ] 継続開発の準備完了

## 🔄 継続メンテナンス戦略

### 📅 定期的な見直し

- **月次レビュー**: 新規追加ファイル・依存関係の妥当性確認
- **四半期整理**: 使用されなくなったファイル・機能の削除
- **年次アーキテクチャ見直し**: 全体構造の最適化検討

### 🛡️ 複雑化防止ルール

- **ファイル追加基準**: 明確な価値提供・必要性の確認
- **依存関係追加**: 代替手段検討・最小限の機能活用
- **ドキュメント作成**: 実用性・メンテナンス性の事前評価
- **設定変更**: 既存設定の拡張より統合を優先

---

**プロジェクト**: 佐渡飲食店マップ
**計画期間**: 6 週間（2025 年 9 月 8 日〜10 月 19 日）
**更新頻度**: 各フェーズ完了時に進捗更新
**関連ドキュメント**: `docs/development/ai-assistant/ai-prompts.md`

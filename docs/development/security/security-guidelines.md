# セキュリティポリシー

> **プロジェクト**: 佐渡飲食店マップアプリケーション
> **最終更新**: 2025 年 8 月 27 日
> **適用範囲**: 本プロジェクトの全バージョン・コンポーネント

## 📋 概要

佐渡飲食店マップアプリケーションは、ユーザーの安全なブラウジング体験を最優先に考えています。このドキュメントでは、セキュリティ脆弱性の報告方法と対応プロセスを定義します。

## 🛡️ サポート対象バージョン

現在メンテナンスされているバージョンとセキュリティアップデート対応状況：

| バージョン    | セキュリティサポート | 状態           |
| ------------- | -------------------- | -------------- |
| main (開発版) | ✅ 継続サポート      | アクティブ開発 |
| v1.0.x        | ✅ フルサポート      | 本番運用予定   |
| 旧バージョン  | ❌ サポート終了      | 現在存在せず   |

## 🚨 セキュリティ脆弱性の報告

### 報告対象となる脆弱性

以下のようなセキュリティ問題を発見した場合は、速やかに報告してください：

- **認証・認可の脆弱性**
- **データ漏洩の可能性**
- **XSS (Cross-Site Scripting) 攻撃**
- **API エンドポイントの不正アクセス**
- **Google Maps API キーの不適切な露出**
- **フロントエンド依存関係の既知脆弱性**
- **PWA 機能のセキュリティ問題**

### 報告方法

#### 🔒 **優先報告チャネル（機密情報）**

重大なセキュリティ脆弱性の場合：

- **GitHub Security Advisories**: [非公開レポート](https://github.com/nakanaka07/sado-restaurant-map/security/advisories)
- **緊急時メール**: セキュリティ担当者への直接連絡（設定予定）

#### 📝 **一般報告チャネル**

軽微なセキュリティ問題の場合：

- **GitHub Issues**: [セキュリティラベル付き Issue](https://github.com/nakanaka07/sado-restaurant-map/issues/new?labels=security)
- **ディスカッション**: [GitHub Discussions](https://github.com/nakanaka07/sado-restaurant-map/discussions)

### 報告時に含める情報

脆弱性報告の際は、以下の情報を可能な限り提供してください：

```text
【脆弱性の種類】
例：XSS、データ漏洩、認証回避等

【影響度】
Critical / High / Medium / Low

【発見環境】
- ブラウザ：Chrome/Firefox/Safari等
- OS：Windows/macOS/Linux
- デバイス：Desktop/Mobile

【再現手順】
1. 具体的なステップ
2. 入力データ・URL
3. 期待される動作
4. 実際の動作

【証拠】
- スクリーンショット
- ログファイル
- ネットワークトラフィック

【提案する修正方法】（任意）
```

## ⚡ 対応プロセス・SLA

### 初期対応時間

| 重要度       | 初期応答時間 | 修正目標時間 |
| ------------ | ------------ | ------------ |
| **Critical** | 24 時間以内  | 7 日以内     |
| **High**     | 72 時間以内  | 14 日以内    |
| **Medium**   | 1 週間以内   | 30 日以内    |
| **Low**      | 2 週間以内   | 次回リリース |

### 対応フロー

1. **受領確認** - 報告から 24 時間以内に受領を確認
2. **初期評価** - 脆弱性の重要度・影響範囲を評価
3. **調査・検証** - 問題の再現・詳細分析
4. **修正開発** - パッチ・修正版の開発
5. **テスト・検証** - セキュリティテスト・回帰テスト
6. **デプロイ** - 本番環境への適用
7. **事後報告** - 報告者への結果通知・公開情報の更新

## 🛠️ プロジェクト固有のセキュリティ考慮事項

### フロントエンド特有のリスク

- **Google Maps API キー管理**

  - 本番・開発環境の分離
  - ドメイン制限の適用
  - 使用量監視

- **PWA 機能のセキュリティ**

  - Service Worker の適切な実装
  - オフラインデータの保護
  - キャッシュの適切な管理

- **外部データソース**
  - Google Sheets API 連携のセキュリティ
  - データ検証・サニタイゼーション

### 開発環境のセキュリティ

- **依存関係管理**

  - 定期的な脆弱性スキャン
  - アップデート戦略
  - `npm audit` / `pnpm audit` の活用

- **ビルド・デプロイプロセス**
  - 機密情報の環境変数管理
  - 本番ビルドでの最適化
  - ソースマップの適切な処理

## 🔐 セキュリティベストプラクティス

### 開発時の推奨事項

- **コードレビュー**: 全 PR でセキュリティ観点のレビュー実施
- **静的解析**: ESLint セキュリティルールの適用
- **依存関係監視**: Dependabot / Renovate による自動更新
- **アクセシビリティ**: セキュリティ・ユーザビリティの両立

### ユーザーデータ保護

- **最小限の収集**: 必要最小限のデータのみ取得
- **匿名化**: 個人特定可能情報の適切な処理
- **透明性**: プライバシーポリシーの明確化
- **同意管理**: ユーザー同意の適切な取得・管理

## 📚 参考資料・関連ドキュメント

### 内部ドキュメント

- [`copilot-instructions.md`](../development/copilot-instructions.md) - 開発ガイドライン
- [`environment-setup-guide.md`](../development/environment-setup-guide.md) - 環境構築ガイド
- [`google-maps-api-setup.md`](../development/google-maps-api-setup.md) - API 設定

### 外部リソース

- [OWASP Top 10](https://owasp.org/www-project-top-ten/) - ウェブアプリケーションセキュリティ
- [Google Maps API セキュリティガイド](https://developers.google.com/maps/api-security-best-practices)
- [React セキュリティ](https://react.dev/learn/keeping-components-pure) - React 公式セキュリティガイド
- [PWA セキュリティ](https://web.dev/pwa-security/) - PWA セキュリティベストプラクティス

## 🤝 謝辞・報奨

### 責任ある開示への感謝

セキュリティ脆弱性を責任を持って報告していただいた方々に深く感謝いたします。適切な報告により、ユーザーの安全性向上に貢献していただいています。

### 表彰制度

将来的に以下の表彰制度の導入を検討しています：

- **Hall of Fame**: 貢献者の名前をクレジットに掲載
- **謝辞の表明**: リリースノートでの感謝の表明
- **コミュニティ貢献**: オープンソースコミュニティへの貢献として評価

## 📞 連絡先・サポート

### 緊急時連絡先

- **GitHub Issues**: [新規 Issue 作成](https://github.com/nakanaka07/sado-restaurant-map/issues/new)
- **GitHub Security**: [セキュリティアドバイザリ](https://github.com/nakanaka07/sado-restaurant-map/security)

### よくある質問

**Q: どの程度の脆弱性から報告すべきですか？**
A: 疑わしい場合は報告してください。軽微なものでも改善につながります。

**Q: 報告後の進捗はどこで確認できますか？**
A: GitHub Issues またはセキュリティアドバイザリで進捗を共有します。

**Q: 修正されるまで脆弱性を公開しても良いですか？**
A: 修正・対応完了まで機密保持にご協力ください。

---

**文書管理者**: 佐渡飲食店マップ開発チーム
**承認者**: プロジェクトメンテナー
**次回レビュー**: 2025 年 11 月 27 日（3 ヶ月後）

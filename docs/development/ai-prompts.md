# AI Assistant Prompts for Code Improvement

> 🎯 **目的**: React+TypeScript 開発での効率的な AI アシスタント活用
> **最終更新**: 2025 年 9 月 6 日 | **バージョン**: 7.0

## 📖 目次

- [🚀 クイックスタート](#-クイックスタート)
- [⚡ 日常開発指示](#-日常開発指示)
- [🔧 専門特化指示](#-専門特化指示)
- [🔍 分析・診断指示](#-分析診断指示)
- [📋 使い方ガイド](#-使い方ガイド)

## 🚀 クイックスタート

### 🎯 状況別指示選択（最頻出パターン）

| 状況                    | 指示            | タイミング     |
| ----------------------- | --------------- | -------------- |
| **🚨 エラー・バグ発生** | `#1 修正・強化` | 問題発生時     |
| **🧹 コードが汚い**     | `#2 整理・清掃` | レビュー前     |
| **⚡ 動作が重い**       | `#3 最適化`     | 性能問題時     |
| **🔄 構造改善**         | `#4 リファクタ` | 設計見直し     |
| **✨ 技術更新**         | `#5 モダナイズ` | ライブラリ更新 |
| **📊 総合改善**         | `#6 包括改善`   | 大幅改良       |

### 💡 重要な使い分け

- **修正**: エラー・バグの解決
- **整理**: 見た目・構造の清掃
- **最適化**: 動作するコードの改善
- **リファクタリング**: 設計・アーキテクチャの改善

## ⚡ 日常開発指示

### 1. 🛠️ 修正・強化指示

**使用場面**: エラー・バグ・脆弱性対応

```text
このコードを修正・強化してください：
- TypeScript型エラーの解決
- 実行時エラー・バグの修正
- セキュリティ脆弱性の対応
- エラーハンドリングの追加
- バリデーション強化
- アクセシビリティ問題の修正
```

### 2. 🧹 整理・清掃指示

**使用場面**: コードレビュー前、品質向上

```text
このコードを整理・清掃してください：
- 未使用要素の削除（インポート・変数・関数）
- デッドコードの除去
- フォーマット・命名規則の統一
- コメントアウトコードの削除
- 重複コードの統合（DRY原則）
```

### 3. ⚡ 最適化指示

**使用場面**: パフォーマンス改善

```text
このコードを最適化してください：
- 実行速度・レンダリング性能の向上
- メモリ使用量・バンドルサイズの削減
- API呼び出し・ネットワーク処理の効率化
- キャッシュ戦略の実装
- 遅延読み込み・コード分割の適用
```

### 4. 🔧 リファクタリング指示

**使用場面**: 設計・構造改善

```text
このコードをリファクタリングしてください：
- 関数・コンポーネントの適切な分割
- 責任分離（単一責任原則）
- 複雑なロジックの簡素化
- 可読性・保守性の向上
- 拡張性を考慮した設計
```

### 5. 🆕 モダナイズ指示

**使用場面**: 技術更新・最新化

```text
このコードをモダナイズしてください：
- React 20最新機能の採用（React Compiler、Concurrent Features）
- Google Maps Advanced Markers v3 への移行
- TypeScript 5.7新機能の活用
- 最新JavaScript/ES2025機能の採用
- モダンなReactパターン（use hook、Activity API、Server Components）
- 非推奨API・ライブラリの置き換え
- View Transitions API対応
- Web Vitals 2025基準への最適化
- PWA Manifest v3対応
- CSS4新機能（Container Queries、color-mix、CSS Nesting）
- 型安全性の向上
- 最新セキュリティベストプラクティス
```

### 6. 📈 包括改善指示

**使用場面**: 総合的な品質向上

```text
このコードを包括的に改善してください：
- ユーザビリティ・UXの向上
- テストカバレッジの充実
- パフォーマンス・セキュリティの強化
- アクセシビリティ対応
- 国際化・多言語対応
- ドキュメント整備
```

## 🔧 専門特化指示

### 7. ⚙️ 環境最適化指示

**使用場面**: 開発環境・設定の改善

```text
開発環境を最適化してください：

【VS Code設定】
- 拡張機能の整理（不要削除・必要追加）
- 設定の最適化（自動保存・フォーマット・TypeScript）
- デバッグ設定の改善

【環境変数管理】
- .env系ファイルの整理・セキュリティ強化
- 型定義・バリデーションの追加
- 機密情報の適切な分離

【Git設定】
- .gitignore の最適化
- 機密情報・一時ファイルの除外
- 品質管理ファイルの整理

【ビルド設定】
- Vite 6.0・TypeScript設定の最適化
- 依存関係・プラグインの整理
- ビルド性能の向上
- ESLint v9・Prettier v3最適化
```

### 8. 🎨 フロントエンド特化指示

**使用場面**: UI/UX・スタイリング改善

```text
フロントエンドを最適化してください：

【CSS・スタイリング】
- Critical CSS の最適化
- CSS4新機能の活用（Container Queries、color-mix、CSS Nesting）
- CSS View Transitions API実装
- レスポンシブ・モバイルファースト対応（iOS 18 / Android 15）
- アニメーション・インタラクションの改善
- CSS変数・デザイントークンの整理
- モダンCSS機能（logical properties、:has()セレクタ）の活用

【アクセシビリティ】
- WCAG 2.2 AA準拠の実装
- キーボードナビゲーション対応
- スクリーンリーダー・支援技術対応
- カラーコントラスト・フォントサイズ最適化
- 動作縮小設定（prefers-reduced-motion）対応

【PWA・モバイル対応】
- PWA機能の強化（Manifest v3対応）
- オフライン対応・キャッシュ戦略
- Push Notifications API対応
- タッチ操作・ジェスチャー対応
- Safe Area・ノッチ対応
- Web Share API統合
```

### 9. 🗂️ プロジェクト構造指示

**使用場面**: アーキテクチャ・ファイル構成改善

```text
プロジェクト構造を最適化してください：

【ディレクトリ構造】
- ファイル・フォルダの再編成
- 関連要素のグループ化
- 命名規則・パス構造の統一
- import/export の整理

【依存関係管理】
- 不要な依存関係の削除
- 軽量な代替ライブラリへの置き換え
- モジュール間の結合度最適化
- 循環依存の解消

【型定義・共通化】
- 型定義の整理・統合
- 共通コンポーネント・ユーティリティの抽出
- 設定・定数の一元管理
```

## 🔍 分析・診断指示

### 10. 🔍 プロジェクト診断指示

**使用場面**: 定期的な健康チェック・現状把握

```text
このプロジェクトを診断してください：

【全体評価】
- ファイル・機能の必要性評価
- 過剰な抽象化・設計の特定
- 使用頻度の低い機能の洗い出し
- 技術的負債の特定
- 「本当に必要か？」の観点で見直し

【品質指標】
- コード行数対機能価値の比率
- 依存関係の複雑さ分析
- テストカバレッジ・品質スコア
- パフォーマンス指標の確認
- セキュリティ脆弱性のチェック

【改善提案】
- 優先度付きの改善項目リスト
- 具体的な実装方針
- 工数・リスク評価
```

### 11. 📁 ディレクトリ診断指示

**使用場面**: 特定ディレクトリの詳細分析・README 要不要判断

```text
このディレクトリを詳細診断してください：

【ファイル分析】
- 各ファイルの役割・必要性評価
- ファイル間の依存関係分析
- 重複機能・コードの特定
- 使用頻度・価値の評価

【README分析・管理】
- README.mdの配置必要性判断（配置基準マトリックス適用）
- 既存READMEの内容品質評価（SCRAP原則）
- 情報の重複・不足・古い情報の特定
- 更新が必要な箇所の洗い出し
- 適切な配置レベル（L1/L2/L3/L4）の判定
- 他READMEとの整合性・一貫性確認

【構造最適化】
- ディレクトリ構造の適切性
- 命名規則の一貫性
- 他ディレクトリとの結合度
- グループ化・分割の提案
```

### 12. 🚨 緊急対応指示

**使用場面**: 本番障害・クリティカル問題

```text
緊急事態に対応してください：

【即座の対応】
- 危険な部分の即座停止・無効化
- 最小限の変更での問題修正
- 一時的な回避策の実装
- 影響範囲の最小化

【事後対応】
- 根本原因の特定・分析
- 恒久対策の計画・実装
- 再発防止策の検討
- 監視・アラートの強化
- TODO・課題の明記
```

### 13. 📖 README 包括分析指示

**使用場面**: README.md 要不要判断・品質分析・最適化

```text
このディレクトリのREADME管理を包括分析してください：

【配置必要性評価】
- 配置基準マトリックス（L1-L4）に基づく必要性判定
- 複雑性・設定要否・他者使用可能性の評価
- 「本当にREADMEが必要か？」の厳格判定

【既存README品質分析】
- SCRAP原則（Specific/Concise/Relevant/Actionable/Practical）準拠度
- 情報の古さ・正確性・完全性チェック
- 対象読者の明確性・30秒理解可能性
- コード例の動作確認・リンク整合性

【情報アーキテクチャ最適化】
- 他READMEとの重複・矛盾の特定
- MECE原則（相互排他・完全網羅）の確認
- 適切な情報階層（Progressive Disclosure）の実現
- 親子ディレクトリとの役割分担最適化

【改善提案】
- 不要READMEの削除候補
- 内容更新・品質向上箇所
- テンプレート適用による構造化
- 保守性・発見性の向上策
```

### 14. 📊 タスクマトリックス更新指示

**使用場面**: プロジェクト状況管理・進捗追跡・チーム連携

```text
TASK_STATUS_MATRIX.mdを更新してください：

【進捗状況更新】
- 実行中タスクの進捗率更新（0%→実際の%）
- ステータス変更（📋計画中→🔄進行中→✅完了）
- 期限・責任者の調整
- 新規タスクの追加（適切な優先度で配置）

【完了タスク管理】
- Critical/High/Medium から完了済みプロジェクトへ移動
- 完了日・成果・レポートリンクの記録
- 月別セクションの整理（2025年9月完了など）

【KPI・品質指標更新】
- SCRAP原則準拠率、テンプレート準拠率の最新値反映
- 技術指標（API接続成功率、テストカバレッジ）の更新
- 目標達成状況の評価（✅目標達成、🔄改善中、🟡あとX%）

【リスク・課題管理】
- 新規リスク項目の追加
- 解決済み課題への移動
- 対策状況の更新

【30日間マイルストーン更新】
- 完了したチェックボックスの確認
- 新しい週・月のマイルストーン追加
- 期限調整・優先度見直し

【メタ情報更新】
- 最終更新日の変更
- 全体進捗率の再計算
- ROI・成功確率の見直し

【品質チェック】
- 数値の整合性確認
- リンクの動作確認
- 絵文字・ステータス表記の統一
- Markdownフォーマットの検証
```

### 15. 🎯 実装分析精度向上指示

**使用場面**: 分析・診断の精度向上・実装状況の正確な把握

```text
実装分析の精度を向上してください：

【実装ファイル直接確認】
- ドキュメントではなく実際のコードファイルを最優先で調査
- tools/scraper/shared/等の実装ディレクトリの詳細確認
- ファイルサイズ・行数・クラス構造による客観的評価
- import文・依存関係・機能実装の具体的検証

【進捗率検証】
- ドキュメント記載の進捗率と実装の実態との照合
- 計画書の設計例と実装済みコードの明確な区別
- Phase 3コンポーネント（Redis、Celery、ML Engine、Smart Orchestrator）の実装度確認
- 0-20%/21-50%/51-80%/81-95%/96-100%の客観的基準適用

【ドキュメント vs 実装の整合性】
- README.md、TASK_STATUS_MATRIX.mdの記載内容と実装の照合
- 古い情報・過小評価・過大評価の特定
- セマンティック検索結果の計画書/実装の識別
- 実装完了度に基づくドキュメント更新提案

【分析品質保証】
- "Code is the source of truth, documentation is secondary" 原則の徹底
- 表面的な調査ではなく詳細なコード確認
- 進捗率評価の根拠となる具体的な実装要素の明示
- 推測ではなく検証可能な事実に基づく分析
```

## 📋 使い方ガイド

### 🎯 シーン別クイック選択

```bash
# 📅 日常開発（頻度：高）
#1 修正・強化      # エラー・バグ発生時
#2 整理・清掃      # コードレビュー前
#3 最適化         # パフォーマンス問題
#4 リファクタ      # 設計見直し時

# 🔧 専門作業（頻度：中）
#5 モダナイズ      # 技術更新・ライブラリ更新
#6 包括改善       # 総合的品質向上
#7 環境最適化      # 開発環境・設定改善
#8 フロントエンド   # UI/UX・アクセシビリティ
#9 プロジェクト構造 # アーキテクチャ改善

# 📊 分析・診断（頻度：低〜定期）
#10 プロジェクト診断   # 月1回の健康チェック
#11 ディレクトリ診断   # 週1回の詳細確認
#12 緊急対応         # 本番障害・クリティカル問題
#13 README包括分析    # 月1回のドキュメント整備
#14 タスクマトリックス # 週1回の進捗管理
#15 実装分析精度向上  # 重要な分析前の必須実行
```

### 🎯 効率的な組み合わせパターン

```bash
# パフォーマンス改善フロー
#15 → #10 → #3 → #2

# 品質向上フロー
#15 → #11 → #4 → #1 → #2

# モダナイズフロー
#15 → #10 → #5 → #4 → #3

# リリース前準備
#2 → #1 → #3 → #8

# プロジェクト管理
#15 → #14 → 進捗確認 → KPI評価
```

### ⚠️ 重要な注意点

- **段階的適用**: 大きな変更は小分けして実行
- **テスト必須**: 各変更後は必ずテスト実行
- **バックアップ**: 重要変更前は必ずコミット
- **チーム合意**: 大きな変更は事前に議論・合意

### 🔗 技術リソース

#### 最新技術ドキュメント

- [React 20](https://react.dev/) - 最新機能・ベストプラクティス
- [TypeScript 5.7](https://www.typescriptlang.org/) - 型安全性・新機能
- [Vite 6.0](https://vitejs.dev/) - 高速ビルドツール
- [Google Maps API](https://developers.google.com/maps/documentation/javascript) - 地図 API・Advanced Markers
- [@vis.gl/react-google-maps](https://visgl.github.io/react-google-maps/) - React 統合ライブラリ

#### Web 標準・パフォーマンス

- [MDN Web Docs](https://developer.mozilla.org/) - Web 標準リファレンス
- [Can I Use](https://caniuse.com/) - ブラウザ互換性確認
- [Web.dev](https://web.dev/) - パフォーマンス・品質ガイド

---

**連携**: `copilot-instructions.md` (自動)

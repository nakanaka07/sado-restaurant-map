# ADR-001: フロントエンド技術スタック選定

## ステータス

承認済み

## コンテキスト

佐渡飲食店マップアプリケーションの開発において、以下の要件を満たすフロントエンド技術スタックの選定が必要でした：

### 機能要件

- Google Maps API 統合による地図表示
- レスポンシブデザイン（モバイルファースト）
- PWA 対応（オフライン機能、インストール可能）
- 高速なページ読み込み
- SEO 対応（検索エンジン最適化）

### 非機能要件

- 開発効率の高さ
- 型安全性の確保
- 保守性の高いコード
- パフォーマンスの最適化
- モダンな JavaScript 機能の活用

### 制約条件

- 小規模チーム（1-3 人）での開発
- 学習コストの最小化
- エコシステムの充実
- 長期的なサポート

## 決定

以下の技術スタックを採用することを決定しました：

### コア技術

- **React 19.1**: UI ライブラリ
- **TypeScript 5.7**: 型安全な JavaScript
- **Vite 7.1**: ビルドツール・開発サーバー

### 地図・API 統合

- **@vis.gl/react-google-maps v1.5**: Google Maps React 統合
- **Google Maps JavaScript API**: 地図機能

### 開発・品質管理

- **ESLint 9.35**: コード品質
- **Vitest 3.2**: テストフレームワーク
- **pnpm**: パッケージマネージャー

### PWA・デプロイ

- **vite-plugin-pwa**: PWA 機能
- **GitHub Pages**: ホスティング

## 結果

### 利点

1. **開発効率**: React の豊富なエコシステム
2. **型安全性**: TypeScript による開発時エラー検出
3. **高速開発**: Vite の高速 HMR（Hot Module Replacement）
4. **最適化**: Vite による自動的なビルド最適化
5. **PWA 対応**: プラグインによる簡単な PWA 実装
6. **Google Maps 統合**: 専用ライブラリによる効率的な統合

### トレードオフ

1. **学習コスト**: React+TypeScript の学習が必要
2. **ビルドサイズ**: フレームワークによるオーバーヘッド
3. **JavaScript 依存**: SEO で一部制限あり

### パフォーマンス指標

- **初回ロード時間**: < 3 秒（目標）
- **Core Web Vitals**: 良好スコア維持
- **PWA スコア**: 90 以上

## 代替案

### 検討した他の選択肢

#### 1. Vue.js + Nuxt.js

**利点**: 学習しやすい、SSR 対応
**欠点**: React と比較してエコシステムが小さい、Google Maps 統合ライブラリが限定的

#### 2. Next.js (React)

**利点**: SSR/SSG 対応、SEO 最適化
**欠点**: 本プロジェクトではサーバー機能が不要、設定が複雑

#### 3. Vanilla JavaScript + Webpack

**利点**: 軽量、完全制御
**欠点**: 開発効率が低い、保守性に課題

#### 4. Angular

**利点**: 大規模アプリケーション向け、TypeScript 標準
**欠点**: 学習コストが高い、小規模プロジェクトには過剰

## 実装詳細

### プロジェクト構成

```text
src/
├── components/          # Reactコンポーネント
├── hooks/              # カスタムHooks
├── services/           # API連携
├── types/              # TypeScript型定義
├── utils/              # ユーティリティ
└── styles/             # CSS
```

### 品質保証

- **ESLint**: React Hooks、TypeScript 最適化ルール
- **Vitest**: コンポーネント・フック・ユーティリティテスト
- **TypeScript strict mode**: 厳格な型チェック

### パフォーマンス最適化

- **コード分割**: React.lazy による動的 import
- **Tree shaking**: 未使用コードの自動除去
- **バンドル最適化**: Vite による自動最適化

---

**日付**: 2025年9月9日
**決定者**: プロジェクトチーム
**レビュー**: 2025年12月予定
